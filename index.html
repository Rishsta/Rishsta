<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
ย ย <title>Rishsta | ุฑูุดุณุชุง</title>
ย ย <link rel="stylesheet" href="style.css">
ย ย <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
ย ย <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
ย ย <div class="phone-frame">
ย ย ย ย <div class="profile-container">
ย ย ย ย ย ย <div class="profile-picture">
ย ย ย ย ย ย ย ย <img src="photo_2025-11-10_16-46-23.jpg" alt="Rishsta Logo">ย
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <h1>Rishsta</h1>
ย ย ย ย ย ย <div class="description-text"><p>ุฃูุฑุงุญูู ุชุจุฏุฃ ูุน ุฑูุดุณุชุง</p></div>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="social-buttons-group">
ย ย ย ย ย ย ย ย <a href="https://www.tiktok.com/@rishsta" target="_blank" class="social-button tiktok-btn">
ย ย ย ย ย ย ย ย ย ย <i class="fab fa-tiktok"></i><span>TikTok</span>
ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย ย ย <a href="https://www.snapchat.com/add/RISHSTA-1" target="_blank" class="social-button snapchat-btn">
ย ย ย ย ย ย ย ย ย ย <i class="fab fa-snapchat-ghost"></i><span>Snapchat</span>
ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย ย ย <a href="https://wa.me/966545998016" target="_blank" class="social-button whatsapp-btn whatsapp1">
ย ย ย ย ย ย ย ย ย ย <i class="fab fa-whatsapp"></i><span>WhatsApp</span>
ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div class="extra-button-group">
ย ย ย ย ย ย ย ย <a href="#" class="main-booking-button" onclick="openBookingModal()">
ย ย ย ย ย ย ย ย ย ย ๐ ุงุจุฏุฃ ุญุฌุฒ ุงูุจุงูุงุช ูุงูุฎุฏูุงุช ุงูุขู
ย ย ย ย ย ย ย ย </a>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div id="bookingModal" class="modal">
ย ย ย ย <div class="modal-content">
ย ย ย ย ย ย <span class="close" onclick="closeBookingModal()">ร</span>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="step-indicator">
ย ย ย ย ย ย ย ย <span class="step-dot active">1</span>
ย ย ย ย ย ย ย ย <span class="step-line"></span>
ย ย ย ย ย ย ย ย <span class="step-dot">2</span>
ย ย ย ย ย ย ย ย <span class="step-line"></span>
ย ย ย ย ย ย ย ย <span class="step-dot">3</span>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <form id="bookingForm">
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="form-step active" id="step1">
ย ย ย ย ย ย ย ย ย ย <h2>๐ ุงูุฎุทูุฉ 1: ุจูุงูุงุช ุงูุญุฌุฒ</h2>
ย ย ย ย ย ย ย ย ย ย <p style="font-size: 0.9em; color: #666;">ุงูุฑุฌุงุก ุชุนุจุฆุฉ ูุนูููุงุชู ููููุน ุงูููุงุณุจุฉ.</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <label>ุงูุงุณู ุงููุงูู:</label>
ย ย ย ย ย ย ย ย ย ย <input type="text" id="clientName" required>

ย ย ย ย ย ย ย ย ย ย <label>ุฑูู ุงูุฌูุงู:</label>
ย ย ย ย ย ย ย ย ย ย <input type="tel" id="clientPhone" placeholder="05xxxxxxxx" dir="ltr" style="text-align: right;" required>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <input type="hidden" id="emailInput" value="s202341370@kfupm.edu.sa">

ย ย ย ย ย ย ย ย ย ย <label>ููุน ุงูููุงุณุจุฉ:</label>
ย ย ย ย ย ย ย ย ย ย <input type="text" id="eventType" placeholder="ูุซุงู: ุฒูุงุฌุ ุชุฎุฑุฌ..." required>

ย ย ย ย ย ย ย ย ย ย <label>ูููุน ุงูููุงุณุจุฉ (ุงุณู ุงููุงุนุฉ):</label>
ย ย ย ย ย ย ย ย ย ย <input type="text" id="eventLocationName" required>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <label>ุงูุชุงุฑูุฎ:</label>
ย ย ย ย ย ย ย ย ย ย <input type="date" id="eventDate" required>
ย ย ย ย ย ย ย ย ย ย <p id="availabilityStatus" style="font-weight: bold; margin-top: 5px; font-size: 0.8em;"></p>

ย ย ย ย ย ย ย ย ย ย <div class="nav-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button type="button" class="next-btn" onclick="nextStep(2)">ุงูุชุงูู โฌ</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย <div class="form-step" id="step2">
ย ย ย ย ย ย ย ย ย ย <h2>๐๏ธ ุงูุฎุทูุฉ 2: ุงุฎุชุฑ ุงูุฎุฏูุงุช</h2>
ย ย ย ย ย ย ย ย ย ย <p style="font-size: 0.9em; color: #666;">ุญุฏุฏ ุงูุฎุฏูุงุช ุงูุชู ุชุฑุบุจ ุจุญุฌุฒูุง:</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <div class="services-selection">
ย ย ย ย ย ย ย ย ย ย ย ย <div class="service-option">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <input type="checkbox" id="service1" name="service" value="ุถูุงูุฉ ุฑูุดุณุชุง">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <label for="service1">โจ ุถูุงูุฉ ุฑูุดุณุชุง </label>
ย ย ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย ย ย <div class="service-option">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <input type="checkbox" id="service2" name="service" value="ุจูููู ูููุน">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <label for="service2">๐ฝ๏ธ ุจูููู ุฑูุดุณุชุง </label>
ย ย ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย ย ย <div class="service-option">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <input type="checkbox" id="service3" name="service" value="ุชุฑุชูุจ ุตูุงูู ุงูุนุดุงุก">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <label for="service3">๐ด ุชุฑุชูุจ ุตูุงูู ุงูุนุดุงุก</label>
ย ย ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย <div class="nav-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button type="button" class="prev-btn" onclick="prevStep(1)">โก ุงูุณุงุจู</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button type="button" class="next-btn" onclick="validateAndGoToStep3()">ุงูุชุงูู โฌ</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย <div class="form-step" id="step3">
ย ย ย ย ย ย ย ย ย ย <h2>๐ฆ ุงูุฎุทูุฉ 3: ุชูุงุตูู ุงูุจุงูุงุช</h2>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <p style="color: red; font-weight: bold; font-size: 0.8em; margin-bottom: 10px;">* ููุงุญุธุฉ: ูุฏุฉ ุชูุงุฌุฏ ุงูููุงุฏุฑ 6 ุณุงุนุงุช.</p>

ย ย ย ย ย ย ย ย ย ย <div id="dynamicOptionsContainer"></div>

ย ย ย ย ย ย ย ย ย ย <hr>
ย ย ย ย ย ย ย ย ย ย <h3 style="text-align: center; color: #333;">ุงูุฅุฌูุงูู ุงูุชูุฏูุฑู: <span id="totalPrice" style="color: #ff9900;">0</span> ุฑ.ุณ</h3>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <div class="nav-buttons">
ย ย ย ย ย ย ย ย ย ย ย ย <button type="button" class="prev-btn" onclick="prevStep(2)">โก ุงูุณุงุจู</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button type="button" class="submit-btn" onclick="confirmBooking()">ุฅุฑุณุงู ุงูุทูุจ ูุงุนุชูุงุฏู โ</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย </form>
ย ย ย ย </div>
ย ย </div>

ย ย <script>
ย ย ย ย const bookingModal = document.getElementById('bookingModal');
ย ย ย ย const totalElement = document.getElementById('totalPrice');
ย ย ย ย const dynamicOptionsContainer = document.getElementById('dynamicOptionsContainer');
ย ย ย ย const WEBHOOK_URL = 'https://hook.us2.make.com/2sbytwqqg9mqm0dy1jjdltumrer3t5ki';
ย ย ย ย const HIDDEN_ADMIN_EMAIL = 's202341370@kfupm.edu.sa';

ย ย ย ย const PRICES = {
ย ย ย ย ย ย service2Base: 3700, service3Base: 1200,ย
ย ย ย ย ย ย extraWater: 11, extraBaklava: 150, extraDatesSweet: 120,
ย ย ย ย ย ย extraStaff: 150, extraBuffet100: 500, extraFruit: 200,ย
ย ย ย ย };

ย ย ย ย function openBookingModal() {
ย ย ย ย ย ย bookingModal.style.display = 'block';
ย ย ย ย ย ย document.body.style.overflow = 'hidden';
ย ย ย ย ย ย showStep(1);ย
ย ย ย ย }

ย ย ย ย function closeBookingModal() {
ย ย ย ย ย ย bookingModal.style.display = 'none';
ย ย ย ย ย ย document.body.style.overflow = 'auto';
ย ย ย ย }

ย ย ย ย function showStep(stepNumber) {
ย ย ย ย ย ย document.querySelectorAll('.form-step').forEach(el => el.classList.remove('active'));
ย ย ย ย ย ย document.querySelectorAll('.step-dot').forEach(el => el.classList.remove('active'));
ย ย ย ย ย ย document.getElementById('step' + stepNumber).classList.add('active');
ย ย ย ย ย ย for (let i = 1; i <= stepNumber; i++) {
ย ย ย ย ย ย ย ย document.querySelectorAll('.step-dot')[i-1].classList.add('active');
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย function nextStep(targetStep) {
ย ย ย ย ย ย if (targetStep === 2) {
ย ย ย ย ย ย ย ย const name = document.getElementById('clientName').value;
ย ย ย ย ย ย ย ย const phone = document.getElementById('clientPhone').value;
ย ย ย ย ย ย ย ย const date = document.getElementById('eventDate').value;
ย ย ย ย ย ย ย ย const loc = document.getElementById('eventLocationName').value;
ย ย ย ย ย ย ย ย if (!name || !phone || !date || !loc) {
ย ย ย ย ย ย ย ย ย ย alert("ุงูุฑุฌุงุก ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุงููุทููุจุฉ.");
ย ย ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย checkDateAvailability();ย
ย ย ย ย ย ย }
ย ย ย ย ย ย showStep(targetStep);
ย ย ย ย }

ย ย ย ย function prevStep(targetStep) {
ย ย ย ย ย ย showStep(targetStep);
ย ย ย ย }

ย ย ย ย function validateAndGoToStep3() {
ย ย ย ย ย ย const s1 = document.getElementById('service1').checked;
ย ย ย ย ย ย const s2 = document.getElementById('service2').checked;
ย ย ย ย ย ย const s3 = document.getElementById('service3').checked;

ย ย ย ย ย ย if (!s1 && !s2 && !s3) {
ย ย ย ย ย ย ย ย alert("ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ุฎุฏูุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ูููุชุงุจุนุฉ.");
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }
ย ย ย ย ย ย renderStep3Content();
ย ย ย ย ย ย showStep(3);
ย ย ย ย }

ย ย ย ย function renderStep3Content() {
ย ย ย ย ย ย let html = '';
ย ย ย ย ย ย if (document.getElementById('service1').checked) html += generateService1HTML();
ย ย ย ย ย ย if (document.getElementById('service2').checked) html += generateService2HTML();
ย ย ย ย ย ย if (document.getElementById('service3').checked) html += generateService3HTML();
ย ย ย ย ย ยย
ย ย ย ย ย ย dynamicOptionsContainer.innerHTML = html;
ย ย ย ย ย ยย
ย ย ย ย ย ย const inputs = dynamicOptionsContainer.querySelectorAll('input');
ย ย ย ย ย ย inputs.forEach(input => {
ย ย ย ย ย ย ย ย input.addEventListener('change', calculateTotal);
ย ย ย ย ย ย ย ย input.addEventListener('input', calculateTotal);
ย ย ย ย ย ย });
ย ย ย ย ย ย calculateTotal();ย
ย ย ย ย }

ย ย ย ย // --- ุชุนุฏูู ุงููุงุฆูุฉ ูุชููู ุนููุฏูุฉ (ุชุญุช ุจุนุถ) ---
ย ย ย ย function generateService1HTML() {
ย ย ย ย ย ย return `
ย ย ย ย ย ย <fieldset class="service-fieldset">
ย ย ย ย ย ย ย ย <legend>โจ ุถูุงูุฉ ุฑูุดุณุชุง</legend>
ย ย ย ย ย ย ย ย <div style="margin-bottom: 15px;">
ย ย ย ย ย ย ย ย ย ย <label style="margin-bottom: 10px; display:block;">ุงุฎุชุฑ ุงูุจุงูุฉ ุงูููุงุณุจุฉ:</label>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <div class="package-box">
ย ย ย ย ย ย ย ย ย ย ย ย <input type="radio" id="p1" name="pkg1" value="ุงูุจุงูุฉ ุงูุนุงุฏูุฉ" data-price="800" data-staff="3" required>
ย ย ย ย ย ย ย ย ย ย ย ย <label for="p1" class="pkg-title">ุงูุจุงูุฉ ุงูุนุงุฏูุฉ (800 ุฑ.ุณ)</label>
ย ย ย ย ย ย ย ย ย ย ย ย <ul class="vertical-list">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>โ ูููุฉ ุนุฑุจูุฉ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ต ุดุงู</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฟ ูุนูุงุน</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ด ุชูุฑ ุนุงุฏู </li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ 3 ููุงุฏุฑ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ ุงููุญู ุนูููุง ูุงูุนูุฏ ุนููู</li>
ย ย ย ย ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย <div class="package-box">
ย ย ย ย ย ย ย ย ย ย ย ย <input type="radio" id="p2" name="pkg1" value="ุงูุจุงูุฉ ุงููุชูุณุทุฉ" data-price="1000" data-staff="4" required>
ย ย ย ย ย ย ย ย ย ย ย ย <label for="p2" class="pkg-title">ุงูุจุงูุฉ ุงููุชูุณุทุฉ (1000 ุฑ.ุณ)</label>
ย ย ย ย ย ย ย ย ย ย ย ย <ul class="vertical-list">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>โ ูููุฉ ุนุฑุจูุฉ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ต ุดุงู ูุงุฎุฑ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ ููููู ุฃุณูุฏ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐บ ูุฑูุฏูู </li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฟ ูุนูุงุน</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ด ุชูุฑ ุนุงุฏู + ุทุญูููุฉ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ 4 ููุงุฏุฑ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ ุงููุญู ูุงูุนูุฏ ุนูููุง</li>
ย ย ย ย ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย <div class="package-box">
ย ย ย ย ย ย ย ย ย ย ย ย <input type="radio" id="p3" name="pkg1" value="ุงูุจุงูุฉ ุงููุฎูุฉ" data-price="1200" data-staff="5" required>
ย ย ย ย ย ย ย ย ย ย ย ย <label for="p3" class="pkg-title">ุงูุจุงูุฉ ุงููุฎูุฉ (1200 ุฑ.ุณ)</label>
ย ย ย ย ย ย ย ย ย ย ย ย <ul class="vertical-list">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>โ ุฌููุน ูุดุฑูุจุงุช ุงูุจุงูุฉ ุงููุชูุณุทุฉ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ซ ููุช ุดููููุช</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฎ ูุงุณุชุฑ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ด ุชูุฑ ูุญุดู + ุชูุฑ ุจุงูุณูุณู ูุงูุญููุฉ + ุทุญูููุฉ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ 5 ููุงุฏุฑ</li>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <li>๐ฅ ุงููุญู ูุงูุนูุฏ ุนูููุง</li>
ย ย ย ย ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="extras-box">
ย ย ย ย ย ย ย ย ย ย <label>ุฅุถุงูุงุช:</label><br>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraWater1" min="0" value="0" dir="ltr"> <span>ูุงุก (+${PRICES.extraWater})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraBaklava1" min="0" value="0" dir="ltr"> <span>ุจููุงูุฉ (+${PRICES.extraBaklava})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraDatesSweet1" min="0" value="0" dir="ltr"> <span>ุญูู ุชูุฑ (+${PRICES.extraDatesSweet})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraStaff1" min="0" value="0" dir="ltr"> <span>ูุงุฏุฑ ุฅุถุงูู (+${PRICES.extraStaff})</span></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </fieldset>`;
ย ย ย ย }

ย ย ย ย function generateService2HTML() {
ย ย ย ย ย ย return `
ย ย ย ย ย ย <fieldset class="service-fieldset">
ย ย ย ย ย ย ย ย <legend>๐ฝ๏ธ ุจูููู ุฑูุดุณุชุง (3700 ุฑ.ุณ)</legend>
ย ย ย ย ย ย ย ย <ul class="vertical-list" style="margin-bottom:15px;">
ย ย ย ย ย ย ย ย ย ย <li>๐ 3 ุฃุตูุงู ุฑุฆูุณูุฉ ูุชููุนุฉ</li>
ย ย ย ย ย ย ย ย ย ย <li>๐ฅ ูุนุฌูุงุช ูุดููุฉ + ููุจูุฉ + ุณูุจูุณุฉ</li>
ย ย ย ย ย ย ย ย ย ย <li>๐ฐ ููู + ููุงูุฉ + ุจููุงูุฉ</li>
ย ย ย ย ย ย ย ย ย ย <li>๐ฅ ููุณุฑุงุช + ูุฑู ุนูุจ + ุฐุฑุฉ + ุจูููุฉ</li>
ย ย ย ย ย ย ย ย ย ย <li>๐น ููููุชู + ุนุตูุฑ ูุงูุฌู</li>
ย ย ย ย ย ย ย ย ย ย <li>๐ฅ 3 ููุงุฏุฑ</li>
ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย <div class="extras-box">
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraGuests2" min="0" value="0" dir="ltr"> <span>ููู 100 ุดุฎุต ุฒูุงุฏุฉ (+${PRICES.extraBuffet100})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraWater2" min="0" value="0" dir="ltr"> <span>ูุงุก (+${PRICES.extraWater})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraFruit2" min="0" value="0" dir="ltr"> <span>ููุงูู (+${PRICES.extraFruit})</span></div>
ย ย ย ย ย ย ย ย ย ย <div class="extra-item"><input type="number" id="extraStaff2" min="0" value="0" dir="ltr"> <span>ูุงุฏุฑ ุฅุถุงูู (+${PRICES.extraStaff})</span></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </fieldset>`;
ย ย ย ย }

ย ย ย ย function generateService3HTML() {
ย ย ย ย ย ย return `
ย ย ย ย ย ย <fieldset class="service-fieldset">
ย ย ย ย ย ย ย ย <legend>๐ด ุชุฑุชูุจ ุตูุงูู ุงูุนุดุงุก (1200 ุฑ.ุณ)</legend>
ย ย ย ย ย ย ย ย ย<ul class="vertical-list" style="margin-bottom:15px;">
ย ย ย ย ย ย ย ย ย ย <li>๐ฅ 7 ููุงุฏุฑ ูุชุฎุตุตูู</li>
ย ย ย ย ย ย ย ย ย ย <li>๐ฝ๏ธ ุชุฑุชูุจ ูุชูุฏูู ุงุญุชุฑุงูู</li>
ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย <div style="margin-bottom: 10px;">
ย ย ย ย ย ย ย ย ย ย <input type="number" id="numTrays3" placeholder="ุนุฏุฏ ุงูุฏูุนุงุช" dir="ltr" style="width:45%; display:inline-block;">
ย ย ย ย ย ย ย ย ย ย <input type="number" id="numPlates3" placeholder="ุนุฏุฏ ุงูุตูุงูู" dir="ltr" style="width:45%; display:inline-block;">
ย ย ย ย ย ย ย ย ย ย <input type="time" id="startTime3" style="width:100%; margin-top:5px;">
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="extras-box">
ย ย ย ย ย ย ย ย ย ย ย<div class="extra-item"><input type="checkbox" id="genderSplit3"> <label for="genderSplit3">ูุณููู (ุฑุฌุงู/ูุณุงุก)</label></div>
ย ย ย ย ย ย ย ย ย ย ย<div class="extra-item"><input type="number" id="numChairs3" min="0" value="0" dir="ltr"> <span>ูุฑุงุณู ููุตูููุฉ</span></div>
ย ย ย ย ย ย ย ย ย ย ย<div class="extra-item"><input type="number" id="extraStaff3" min="0" value="0" dir="ltr"> <span>ูุงุฏุฑ ุฅุถุงูู (+${PRICES.extraStaff})</span></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </fieldset>`;
ย ย ย ย }

ย ย ย ย function calculateTotal() {
ย ย ย ย ย ย let currentTotal = 0;
ย ย ย ย ย ย let details = [];

ย ย ย ย ย ย if (document.getElementById('service1').checked) {
ย ย ย ย ย ย ย ย const pkg = document.querySelector('input[name="pkg1"]:checked');
ย ย ย ย ย ย ย ย if (pkg) {
ย ย ย ย ย ย ย ย ย ย let p = parseFloat(pkg.dataset.price);
ย ย ย ย ย ย ย ย ย ย currentTotal += p;
ย ย ย ย ย ย ย ย ย ย details.push(`ุถูุงูุฉ: ${pkg.value} (${p} ุฑ.ุณ)`);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraWater1', PRICES.extraWater, details, 'ูุงุก');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraBaklava1', PRICES.extraBaklava, details, 'ุจููุงูุฉ');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraDatesSweet1', PRICES.extraDatesSweet, details, 'ุญูู ุชูุฑ');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraStaff1', PRICES.extraStaff, details, 'ูุงุฏุฑ ุถูุงูุฉ');
ย ย ย ย ย ย }

ย ย ย ย ย ย if (document.getElementById('service2').checked) {
ย ย ย ย ย ย ย ย currentTotal += PRICES.service2Base;
ย ย ย ย ย ย ย ย details.push(`ุจูููู: ุฃุณุงุณู (${PRICES.service2Base} ุฑ.ุณ)`);
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraGuests2', PRICES.extraBuffet100, details, 'ุฒูุงุฏุฉ 100 ุดุฎุต');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraWater2', PRICES.extraWater, details, 'ูุงุก ุจูููู');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraFruit2', PRICES.extraFruit, details, 'ููุงูู');
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraStaff2', PRICES.extraStaff, details, 'ูุงุฏุฑ ุจูููู');
ย ย ย ย ย ย }

ย ย ย ย ย ย if (document.getElementById('service3').checked) {
ย ย ย ย ย ย ย ย currentTotal += PRICES.service3Base;
ย ย ย ย ย ย ย ย details.push(`ุตูุงูู: ุฃุณุงุณู (${PRICES.service3Base} ุฑ.ุณ)`);
ย ย ย ย ย ย ย ย currentTotal += safeCalc('extraStaff3', PRICES.extraStaff, details, 'ูุงุฏุฑ ุตูุงูู');
ย ย ย ย ย ย }

ย ย ย ย ย ย totalElement.textContent = currentTotal.toLocaleString();
ย ย ย ย ย ย return { total: currentTotal, details: details };
ย ย ย ย }

ย ย ย ย function safeCalc(id, price, list, name) {
ย ย ย ย ย ย const el = document.getElementById(id);
ย ย ย ย ย ย if (el && el.value > 0) {
ย ย ย ย ย ย ย ย let qty = parseInt(el.value);
ย ย ย ย ย ย ย ย list.push(`+ ${qty} ${name}`);
ย ย ย ย ย ย ย ย return qty * price;
ย ย ย ย ย ย }
ย ย ย ย ย ย return 0;
ย ย ย ย }

ย ย ย ย function collectData() {
ย ย ย ย ย ย const calc = calculateTotal();
ย ย ย ย ย ย const services = [];
ย ย ย ย ย ย if(document.getElementById('service1').checked) services.push('ุถูุงูุฉ');
ย ย ย ย ย ย if(document.getElementById('service2').checked) services.push('ุจูููู');
ย ย ย ย ย ย if(document.getElementById('service3').checked) services.push('ุตูุงูู');

ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย clientName: document.getElementById('clientName').value,
ย ย ย ย ย ย ย ย clientPhone: document.getElementById('clientPhone').value,
ย ย ย ย ย ย ย ย adminEmail: HIDDEN_ADMIN_EMAIL,
ย ย ย ย ย ย ย ย eventDate: document.getElementById('eventDate').value,
ย ย ย ย ย ย ย ย eventType: document.getElementById('eventType').value,
ย ย ย ย ย ย ย ย eventLocation: document.getElementById('eventLocationName').value,
ย ย ย ย ย ย ย ย totalPrice: calc.total,
ย ย ย ย ย ย ย ย finalPriceText: calc.total + ' ุฑ.ุณ',
ย ย ย ย ย ย ย ย selectedServices: services.join(', '),
ย ย ย ย ย ย ย ย detailedBreakdown: calc.details.join('\n- ')
ย ย ย ย ย ย };
ย ย ย ย }

ย ย ย ย async function sendToNotion(data) {
ย ย ย ย ย ย try {
ย ย ย ย ย ย ย ย await fetch(WEBHOOK_URL, {
ย ย ย ย ย ย ย ย ย ย method: 'POST',
ย ย ย ย ย ย ย ย ย ย headers: {'Content-Type': 'application/json'},
ย ย ย ย ย ย ย ย ย ย body: JSON.stringify(data)
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย } catch(e) { console.error(e); }
ย ย ย ย }

ย ย ย ย async function confirmBooking() {
ย ย ย ย ย ย if (document.getElementById('service1').checked && !document.querySelector('input[name="pkg1"]:checked')) {
ย ย ย ย ย ย ย ย alert("ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ููุน ุจุงูุฉ ุงูุถูุงูุฉ.");
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย if (document.getElementById('service1').checked) {
ย ย ย ย ย ย ย ย ยconst b = document.getElementById('extraBaklava1');
ย ย ย ย ย ย ย ย ยconst d = document.getElementById('extraDatesSweet1');
ย ย ย ย ย ย ย ย ยif (b && d && b.value == 0 && d.value == 0) {
ย ย ย ย ย ย ย ย ย ย ยif (!confirm("โจ ูุชุฃูุฏ ูุงุชุจู ุชุชุฌููู ูุน ูุนุงุฒููู ูุชุงุฎุฐ ุญููุ\nุงุถุบุท 'ุฅูุบุงุก' ููุฅุถุงูุฉุ ุฃู 'ููุงูู' ูููุชุงุจุนุฉ.")) return;
ย ย ย ย ย ย ย ย ย}
ย ย ย ย ย ย }

ย ย ย ย ย ย const data = collectData();
ย ย ย ย ย ย const msg = `ููุฎุต ุงูุทูุจ:\nุงูุงุณู: ${data.clientName}\nุงูุชุงุฑูุฎ: ${data.eventDate}\n\nุงูุฎุฏูุงุช:\n- ${data.detailedBreakdown}\n\nุงูุฅุฌูุงูู: ${data.finalPriceText}\n\nูู ุชุฑูุฏ ุงุนุชูุงุฏ ุงูุทูุจุ`;
ย ย ย ย ย ย if(!confirm(msg)) return;

ย ย ย ย ย ย sendToNotion(data);
ย ย ย ย ย ยย
ย ย ย ย ย ย let waMsg = `*ุญุฌุฒ ุฌุฏูุฏ - ุฑูุดุณุชุง*\n๐ค ${data.clientName}\n๐ ${data.clientPhone}\n๐ ${data.eventDate}\n๐ ${data.eventLocation}\n\n*ุงูุชูุงุตูู:*\n- ${data.detailedBreakdown}\n\n*ุงูุฅุฌูุงูู: ${data.finalPriceText}*`;
ย ย ย ย ย ยย
ย ย ย ย ย ย window.open(`https://wa.me/966544512811?text=${encodeURIComponent(waMsg)}`, '_blank');
ย ย ย ย ย ย closeBookingModal();
ย ย ย ย }
ย ย ย ยย
ย ย ย ย function checkDateAvailability() {
ย ย ย ย ย ย ยdocument.getElementById('availabilityStatus').innerText = "โ ุงูุชุงุฑูุฎ ูุชุงุญ ูุจุฏุฆูุงู";
ย ย ย ย ย ย ยdocument.getElementById('availabilityStatus').style.color = "green";
ย ย ย ย }
ย ย </script>
</body>
</html>
